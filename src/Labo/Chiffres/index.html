<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>IUT Paris Descartes | Bienvenue sur le site de l'IUT Paris Descartes</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='style.css'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

</head>

<body class="et_fixed_nav">

    <script>
        /*
            Script pour l'animation des chiffres
        */
        var discovered = false;
        var values = [3000, 1100, 170, 750, 84];

        // animation des valeurs de façon recursive
        function roll(id, val) {
            var element = document.getElementById('chiffre_'+id);
            if(val > values[id]) {
                element.innerHTML = values[id];
                return;
            }
            element.innerHTML = Math.floor(val);
            setTimeout((id, val)=>{
                roll(id, val+(values[id]/50));
            }, 25, id, val);
        }
        
        // détection du scroll
        window.addEventListener('scroll', function() {
            var element = document.getElementById("chiffres_trigger");
            var position = element.getBoundingClientRect();

            if(position.top < window.innerHeight && position.bottom >= 0) {
		        if(!discovered) {
                    discovered = true;
                    for(let i = 0; i < 5; i++) {
                        setTimeout((id, val)=>{
                            roll(id, val+(values[id]/50));
                        }, 300, i, 0);
                    }
                }
            }
        });
    </script>
    <div class="chiffres" 
    style="
    /*A retirer, juste pour la démo*/
    position: absolute;
    top:90%;
    width: 100%;

    " id="chiffres_trigger">
        <p class="white_title">L'IUT de Paris en chiffres</p>
        <div id="chiffres_columns">
            <div class="chiffre_container">
                <p class="chiffre" id="chiffre_0">0</p>
                <p class="chiffre_label" id="label_0">ETUDIANTS</p>
            </div>
            <div class="chiffre_container">
                <p class="chiffre" id="chiffre_1">0</p>
                <p class="chiffre_label" id="label_1">APPRENTIS ET STAGIAIRES DE FORMATION CONTINUE</p>
            </div>
            <div class="chiffre_container">
                <p class="chiffre" id="chiffre_2">0</p>
                <p class="chiffre_label" id="label_2">ENSEIGNANTS ET ENSEIGNANTS-CHERCHEURS</p>
            </div>
            <div class="chiffre_container">
                <p class="chiffre" id="chiffre_3">0</p>
                <p class="chiffre_label" id="label_3">INTERVENANTS PROFESSIONNELS</p>
            </div>
            <div class="chiffre_container">
                <p class="chiffre" id="chiffre_4">0</p>
                <p class="chiffre_label" id="label_4">PERSONNELS ADMINISTRATIFS ET TECHNIQUES</p>
            </div>
        </div>
    </div>

</body>

</html>